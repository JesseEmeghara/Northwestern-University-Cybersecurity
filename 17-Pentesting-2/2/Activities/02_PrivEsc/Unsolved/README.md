## Activity File: Windows Privilege Escalation

In this activity, you'll continue to play the role of a pen tester conducting an engagement on MegaCorpOne. Using password spraying, you gained a foothold on a Windows machine in a previous activity. Now that we understand and recognize our privilege escalation attack path, you are tasked to implement it with Metasploit. Specifically, you will escalate your privileges on the Windows machine from `tstark` to `SYSTEM` privileges, giving you full control of the entire machine.

- You will work off of the tstark user's Meterpreter session. 

- With the active Meterpreter session, you will attempt to escalate your privileges by creating a service that runs a malicious payload. 

- Remember, when a service is run, it is done with SYSTEM privileges. 

⚠️ **Reminder** - Don't forget to save your findings, as you will add them to your week 17 Homework!


### Instructions

1. Background the Meterpreter session via the `background` command.

2. Use the `windows/local/persistence_service` module in Metasploit. 

3. View the OPTIONS and set the SESSION to your current Meterpreter session number ID. If you're unsure of the session number, type `sessions`.

4. Verify and set remaining options (Pay attention to the `LHOST`)

5. Once the parameters are set, run the module.

6. Once complete, view the user ID.
	
7. Notice that the executable it uploads is a random file name. How could we make this more stealthy?

---
&copy; 2023 edX Boot Camps LLC. Confidential and Proprietary. All Rights Reserved.



