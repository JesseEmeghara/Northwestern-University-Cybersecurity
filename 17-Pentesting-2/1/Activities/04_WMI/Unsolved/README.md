## Activity File: WMI

In this activity, you'll continue to play the role of a pentester conducting an engagement on MegaCorpOne. Now that you have two sets of credentials, you'll leverage these credentials and use a Metasploit command in order to run commands on the remote machine.

- You'll be provided instructions to use this module to gather information on your target machine.

⚠️ **Reminder** - Don't forget to save your findings, as you will add them to your week 17 Homework!


### Instructions

1. In Ubuntu, open a terminal 

2. You will use the python command `wmiexec.py`
   - Here is a sample command:  `sudo wmiexec.py sampledomain/user:'Password'@192.1.20.10 whoami`
     - `sudo wmiexec.py`  - Runs the python command as sudo
     - `sampledomain/user:` - sampledomain is the Domain  and User is the user are attempting to login with
     - `'Password'@192.1.20.10` - Password is that user's password, and 192.1.20.10 is the ip of the target machine
     - `whoami` - is the windows command you will be running on the target machine
       
3. Update the sample command with the domain, user, password, and IP for the user `tstark`
  
4. Run the command. You should see the output "megacorpone\tstark."

	 - **Note:** If your command times out, try to ping the Windows 10 machine from your Ubuntu machine via command `ping 172.22.117.20`. If you do not get a ping back, have your instructor restart your host machine. 

8. Change the COMMAND value of `whoami` to list the processes. 

     - **Hint:** WMI uses MS-DOS commands, not PowerShell. If you're stuck, look up how to list processes in MS-DOS.

9. Using other commands, answer the following questions:

	1. What is the version and build number of Windows?
	
	2. What processor architecture is the machine?
	
	3. Are there any users logged in?
	
	4. What shares are available on the machine?

---

&copy; 2023 edX Boot Camps LLC. Confidential and Proprietary. All Rights Reserved.



